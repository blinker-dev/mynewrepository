<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="blinker dev">
    <title>Twitter User lookup</title>
       <!-- Bootstrap core CSS -->
<link href="/static/css/bootstrap.min.css" rel="stylesheet">

<style>
  .bd-placeholder-img {
    font-size: 1.125rem;
    text-anchor: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  @media (min-width: 768px) {
    .bd-placeholder-img-lg {
      font-size: 3.5rem;
    }
  }
</style>
<!-- Custom styles for this template -->
<link href="/static/css/form-validation.css" rel="stylesheet">
</head>

<body class="bg-light">
<div class="container">
<div class="mb-3">
    <label for="username">LookupUsername</label>
    <div class="input-group">
      <div class="input-group-prepend">
        <span class="input-group-text">@</span>
      </div>
      <input type="text" class="form-control" id="username" placeholder="lookup twitter username" required>
      <input type="button" id="userlookup_button" value="lookup">

      
    </div>
    <div id="uname_returned">{{ username_returned }}</div>
</div>
</div>
</body>

<script>

  document.getElementById('userlookup_button').addEventListener('click', function ()
  {
    uname = document.getElementById('username').value
    
    unameCombo = 'uservalue=' + uname
    const request = new XMLHttpRequest();
    

    request.open('POST', '/unamelookup');
    request.onload = () => {
      const response = request.responseText;
      document.getElementById('uname_returned').innerText = response;
    };

    request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    request.send(unameCombo)
    });



  



 /* document.addEventListener('DOMContentLoaded', () => {

    document.querySelectorAll('submit').forEach(submit => {
      submit.onclick = () => {
        const request = new XMLHttpRequest();
        request.open('POST', `/${username.value}`);
        request.onload = () => {
          const response = request.responseText;

          document.getElementById('username_returned').innerText = response;
        };
        request.send();
        
        };
    });
    });
*/  
</script>

<!-- 
  <script src="/static/js/form-validation.js"></script>
-->

</html>